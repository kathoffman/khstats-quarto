<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Katherine Hoffman">
<meta name="dcterms.date" content="2022-04-07">

<title>KHstats - An Illustrated Guide to Modified Treatment Policies, Part 1: Introduction and Motivation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script type="text/javascript">

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-136820093-1', 'auto');

ga('send', {
  hitType: 'pageview',
  'anonymizeIp': true,
});
</script>
<style>html{ scroll-behavior: smooth; }</style>


</head>

<body class="docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">KHstats</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../talks.html">
 <span class="menu-text">Talks</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-illustrations" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Illustrations</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-illustrations">    
        <li>
    <a class="dropdown-item" href="../../art/illustrations_viz.html">
 <span class="dropdown-text">Visual Guides for Causal Inference</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../art/illustrations_draw.html">
 <span class="dropdown-text">Educational Drawings and Comics</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-research" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Research</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-research">    
        <li>
    <a class="dropdown-item" href="../../pubs/pubs_methods.html">
 <span class="dropdown-text">Statistics Methods</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pubs/pubs_applications.html">
 <span class="dropdown-text">Clinical Applications</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://scholar.google.com/citations?user=73RvTUoAAAAJ&amp;hl=en">
 <span class="dropdown-text">Google Scholar Profile</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/kat_hoffman_"><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/kathoffman"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../static/KatherineHoffman_CV_Dec2022.pdf">
 <span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:kathoffman.stats@gmail.com"><i class="bi bi-envelope" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <div class="quarto-title-block"><div><h1 class="title">An Illustrated Guide to Modified Treatment Policies, Part 1: Introduction and Motivation</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
                                <div class="quarto-categories">
                <div class="quarto-category">statistics</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Katherine Hoffman </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">April 7, 2022</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#table-of-contents" id="toc-table-of-contents" class="nav-link active" data-scroll-target="#table-of-contents">Table of contents</a></li>
  <li><a href="#tldr" id="toc-tldr" class="nav-link" data-scroll-target="#tldr">TLDR</a></li>
  <li><a href="#an-overview-of-existing-methodology" id="toc-an-overview-of-existing-methodology" class="nav-link" data-scroll-target="#an-overview-of-existing-methodology">An Overview of Existing Methodology</a>
  <ul class="collapse">
  <li><a href="#lets-review-causal-inference-at-a-high-level." id="toc-lets-review-causal-inference-at-a-high-level." class="nav-link" data-scroll-target="#lets-review-causal-inference-at-a-high-level.">Let’s review causal inference at a high level.</a></li>
  <li><a href="#static-interventions-are-a-common-approach-in-causal-inference-but-a-few-problems-frequently-arise." id="toc-static-interventions-are-a-common-approach-in-causal-inference-but-a-few-problems-frequently-arise." class="nav-link" data-scroll-target="#static-interventions-are-a-common-approach-in-causal-inference-but-a-few-problems-frequently-arise.">Static interventions are a common approach in causal inference, but a few problems frequently arise.</a></li>
  <li><a href="#one-possible-solution-to-the-problems-posed-by-static-interventions-is-dynamic-interventions." id="toc-one-possible-solution-to-the-problems-posed-by-static-interventions-is-dynamic-interventions." class="nav-link" data-scroll-target="#one-possible-solution-to-the-problems-posed-by-static-interventions-is-dynamic-interventions.">One possible solution to the problems posed by Static Interventions is Dynamic Interventions.</a></li>
  </ul></li>
  <li><a href="#modified-treatment-policies-mtps" id="toc-modified-treatment-policies-mtps" class="nav-link" data-scroll-target="#modified-treatment-policies-mtps">Modified Treatment Policies (MTPs)</a></li>
  <li><a href="#a-general-and-unifying-framework-extending-to-longitudinal-settings" id="toc-a-general-and-unifying-framework-extending-to-longitudinal-settings" class="nav-link" data-scroll-target="#a-general-and-unifying-framework-extending-to-longitudinal-settings">A general and unifying framework extending to longitudinal settings</a>
  <ul class="collapse">
  <li><a href="#longitudinal-data-analysis-complexities" id="toc-longitudinal-data-analysis-complexities" class="nav-link" data-scroll-target="#longitudinal-data-analysis-complexities">Longitudinal data analysis complexities</a></li>
  <li><a href="#lmtp-methodology-and-software-capabilities" id="toc-lmtp-methodology-and-software-capabilities" class="nav-link" data-scroll-target="#lmtp-methodology-and-software-capabilities">LMTP methodology and software capabilities</a></li>
  </ul></li>
  <li><a href="#resources-to-learn-more" id="toc-resources-to-learn-more" class="nav-link" data-scroll-target="#resources-to-learn-more">Resources to learn more</a></li>
  </ul>
</nav>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">








<p><a href="https://github.com/kathoffman/causal-inference-visual-guides/blob/master/visual-guides/Types_of_Interventions.jpg"> <img src="lmtp/mtp_summary.jpg" style="border:1px solid black;" width="100%&quot;"></a></p><a href="https://github.com/kathoffman/causal-inference-visual-guides/blob/master/visual-guides/Types_of_Interventions.jpg">
</a><p><a href="https://github.com/kathoffman/causal-inference-visual-guides/blob/master/visual-guides/Types_of_Interventions.jpg"></a></p>


<section id="table-of-contents" class="level1">
<h1>Table of contents</h1>
<ol type="1">
<li><a href="#an-overview-of-existing-methodology">An Overview of Existing Methodology</a></li>
<li><a href="#modified-treatment-policies-mtps">Explanation and examples of Modified Treatment Policies</a></li>
<li><a href="#a-general-and-unifying-framework-extending-to-longitudinal-settings">Capabilities of the Longitudinal Modified Treatment Policy (LMTP) framework</a></li>
</ol>
</section>
<section id="tldr" class="level1">
<h1>TLDR</h1>
<ul>
<li>Modified Treatment Policies are a collection of methods for <strong>defining</strong> and <strong>operationalizing</strong> interesting <strong>causal inference questions</strong>.</li>
<li>The unifying theme in this collection of methods is that they allow us to study hypothetical interventions, or treatment policies, that are <strong>extremely flexible</strong>.</li>
<li>This flexibility enables us to <strong>answer more realistic scientific questions</strong> in both <strong>cross-sectional and longitudinal settings</strong>, with <strong>multivariate, categorical, or continuous exposures</strong>.</li>
</ul>
<hr>
<!-- Lastly, before I begin, please note a few sets of words I’ll use interchangeably: -->
<!-- - Exposure and treatment -->
<!-- - Treatment policy and intervention -->
</section>
<section id="an-overview-of-existing-methodology" class="level1">
<h1>An Overview of Existing Methodology</h1>
<section id="lets-review-causal-inference-at-a-high-level." class="level2">
<h2 class="anchored" data-anchor-id="lets-review-causal-inference-at-a-high-level.">Let’s review causal inference at a high level.</h2>


<title>
HTML Image as link
</title>


<a href="https://github.com/kathoffman/causal-inference-visual-guides/blob/master/comics/universe_comic.jpeg"> <img src="universe_comic.jpeg" style="float:right; padding-left:10px;" width="60%&quot;"> </a>


<p>Most modern causal inference methods utilize the <strong>potential outcomes framework</strong>, which asks questions of <strong>what would happen</strong> in a <strong>hypothetical world</strong> in which we could <strong>manipulate exposures</strong> and then <strong>compare outcomes for the same observations under different exposures</strong>.</p>
<p>Questions with binary exposures typically take the form, “<strong>what would happen if everyone had received the exposure compared to if no one had received the exposure</strong>?” Similarly, questions with multi-level or continuous exposures often take the form “what would happen if everyone had received <em>this much</em> of the exposure, versus if everyone had received <em>that much</em> of the exposure?” Study designs like this which compare all observations under two (or more) specific levels of exposure are called <strong>static interventions</strong>.</p>
</section>
<section id="static-interventions-are-a-common-approach-in-causal-inference-but-a-few-problems-frequently-arise." class="level2">
<h2 class="anchored" data-anchor-id="static-interventions-are-a-common-approach-in-causal-inference-but-a-few-problems-frequently-arise.">Static interventions are a common approach in causal inference, but a few problems frequently arise.</h2>
<h3 style="color: #C41E3A;" class="anchored">
<p>Problem #1: Positivity Violations</p>
</h3>
<p>A key requirement for causal inference is the <strong>positivity assumption</strong>. This means if you are comparing two exposures (say, treatments A vs.&nbsp;B), <strong>for every covariate combination</strong> in your dataset, there must be <strong>individuals who sometimes get treatment A and sometimes get treatment B</strong>. Intuitively, this ensures there is enough “experimentation” in the dataset that effects can be estimated.</p>




<a href="https://github.com/kathoffman/causal-inference-visual-guides/blob/master/comics/positivity_comic.jpeg"> <img src="positivity_comic.jpeg" style="float:right; padding-left:20px;" width="55%&quot;"> </a>


<p>As you can imagine, this often does not hold true. Sometimes there are <strong>theoretical positivity violations</strong>: for example, if we are studying the effects of a drug for heart disease, cardiologists might say this drug is never given to people who also have chronic kidney disease because the drug damages the kidneys. The probability of a patient receiving the drug conditional on having kidney disease will be zero in all datasets.</p>
<p>Other times we see <strong>practical positivity violations</strong>, meaning that due to small sample size and/or random chance, there are certain covariate combinations in which few observations receive the treatment of interest in our dataset. Perhaps in a dataset to study the previous example’s heart disease drug, due to random chance, there are no women aged 40-60 years who received the drug in the data. It is not a theoretical positivity violation (i.e.&nbsp;doctors would give the drug to women in this age group), but it is a practical violation nonetheless as it yields small or zero treatment probabilities.</p>
<p>Positivity issues must be addressed, preferably in the planning stage of a study.</p>
<h3 style="color: #C41E3A;" class="anchored">
<p>Problem #2: Unrealistic Interventions</p>
</h3>
<p>A second problem arises with static interventions: there are many situations in which it is <strong>not realistic to set everyone’s hypothetical exposure to the same value</strong>. Let’s take an example where we are studying the effect of physical activity. A static intervention approach might ask, “<em>what would happen if everyone exercised 30 minutes a week?</em>” Yet there is no actual intervention we could translate to the real world to make everyone exercise 30 minutes a week, i.e.&nbsp;there is no policy a decision-maker could enact to make this happen, even approximately. We could estimate an outcome under this policy, but this unrealistic intervention will likely have a meaningless result.</p>
<blockquote class="blockquote">
<p>Notably, you can have an unrealistic intervention without having a positivity violation. For example, we may have access to a large data set with people of all possible covariate combinations who exercise 30 minutes a week; however, it is still scientifically not meaningful or realistic to evaluate a world in which everyone exercises the exact same amount of time.</p>
</blockquote>




<p><a href="https://github.com/kathoffman/causal-inference-visual-guides/blob/master/visual-guides/Types_of_Interventions.jpg"> <img src="lmtp/static_graph.jpg" width="100%&quot;"> </a></p>
<figcaption>
<small>A graphical example of a static intervention on the pollution measurement of Air Quality Index (AQI). On the left we see the naturally observed exposure values for one day in the US, and on the right we see what the hypothetical exposure values would look like under a static intervention in which all study subjects had an AQI exposure of 20.</small>
</figcaption>


<p><br></p>
</section>
<section id="one-possible-solution-to-the-problems-posed-by-static-interventions-is-dynamic-interventions." class="level2">
<h2 class="anchored" data-anchor-id="one-possible-solution-to-the-problems-posed-by-static-interventions-is-dynamic-interventions.">One possible solution to the problems posed by Static Interventions is Dynamic Interventions.</h2>
<p><strong>Dynamic treatment policies</strong> or interventions ask what would have happened in a hypothetical world where <strong>exposure is assigned based on each observation’s covariate history</strong>.</p>
<p>For example, let’s say we want to study the effect of pollution on asthma attacks in the United States. A simple study design could be to find a representative sample of individuals living with asthma, measure their pollution exposure via the <a href="https://www.airnow.gov/aqi/aqi-basics/">Air Quality Index (AQI)</a> on one calendar day (along with other confounders), and record whether an asthma attack occurs within a specified time frame.</p>
<p>Although I don’t study pollution, I know it is <strong>scientifically impossible</strong> for everyone in the US to receive the same air quality exposure, even in a world with countless environmental regulations. Natural and geographical forces such as wind, wildfires, elevation, proximity to the ocean, etc. make it <strong>unrealistic to study a single air quality exposure value for everyone</strong>.</p>
<p>We can try getting around these issues by evaluating a dynamic intervention that depends on baseline characteristics of the person or environment. For example, “<em>if a person lives in an urban area, make their AQI exposure 40, and if a person lives in a residential area, make their AQI exposure 20.</em>”</p>




<p><a href="https://github.com/kathoffman/causal-inference-visual-guides/blob/master/visual-guides/Types_of_Interventions.jpg"> <img src="lmtp/dynamic_graph.jpg" width="100%&quot;"> </a></p>
<figcaption>
<small>An example of a naturally observed exposure of AQI in the US (left) and what it would look like under a hypothetical dynamic intervention in which all urban counties have an AQI of 40 and rural counties have an AQI of 20 (right).</small>
</figcaption>


<p><br> This intervention may <strong>reduce positivity violations</strong> and <strong>lead to a more realistic study</strong>, yet there are <strong>many other interesting questions</strong> about air pollution <strong>we still cannot answer</strong> with dynamic treatment policies.</p>
<h3 style="color: #C41E3A;" class="anchored">
<p>Problem #3: Static and dynamic interventions cannot depend on the observed exposure</p>
</h3>
<p>Another <strong>key limitation</strong> with both static and dynamic interventions is that the <strong>hypothetical exposure value is completely determined by each observation’s baseline characteristics</strong> rather than the observed exposure. However, there are many <strong>interesting scientific questions</strong> about interventions that <strong>depend on the actual exposure received</strong>. For example, a more relevant question for our pollution example could be, “<em>what would have happened in a hypothetical world where everyone’s AQI exposure was 10% lower than what we observed?</em>” Or, “<em>what if the reduction had been 20 units for individuals living in an area with a daily AQI &gt; 100?</em>”</p>
<blockquote class="blockquote">
<p>What questions, or hypothetical interventions, would we propose if we did not feel limited by statistical methodology?</p>
</blockquote>
<!-- <center> ✨✨✨</center> -->
</section>
</section>
<section id="modified-treatment-policies-mtps" class="level1">
<h1>Modified Treatment Policies (MTPs)</h1>
<p>We can solve all three problems mentioned above with <strong>Modified Treatment Policies (MTPs)</strong>. MTPs describe <strong>hypothetical interventions which depend on the observed value of treatment</strong>, possibly in addition to baseline characteristics. We already mentioned two potential MTPs for our pollution example: “<em>what if we reduced everyone’s AQI exposure by 20%?</em>” and “<em>what if we reduced individuals living in an area with a daily AQI &gt; 100 by 20 units?</em>”</p>




<p><a href="https://github.com/kathoffman/causal-inference-visual-guides/blob/master/visual-guides/Types_of_Interventions.jpg"> <img src="lmtp/modified_graph.jpg" width="100%&quot;"> </a></p>
<figcaption>
<small>An example of a naturally observed exposure of AQI in the US (left) and what it would look like under a hypothetical modified treatment policy in which all observations have an AQI exposure 20% less than what was actually observed (right).</small>
</figcaption>


<p><br> Other interesting MTPs unrelated to pollution might be questions along the lines of:</p>




<a href="https://github.com/kathoffman/causal-inference-visual-guides/blob/master/comics/climbing_comic.jpg"> <img src="climbing_comic.JPG" style="float:right" width="40%&quot;"> </a>


<ul>
<li>
<em>How would recovery rates change if we decreased surgery times for surgeries lasting longer than four hours?</em>
</li>
<li>
<em>How would diabetes incidence rates change if everyone with a Body Mass Index (BMI) &gt;30 lowered their BMI by 2 units?</em>
</li>
<li>
<em>How would medical school admission rates change if all students with MCAT scores less than 500 increased their score by 5 points?</em>
</li>
</ul>
<p><strong>MTPs are an excellent solution</strong> for getting around positivity issues to analyze <strong>more feasible and realistic interventions</strong>. Hopefully this list inspires you to think of MTPs relevant to your own field of study!</p>
</section>
<section id="a-general-and-unifying-framework-extending-to-longitudinal-settings" class="level1">
<h1>A general and unifying framework extending to longitudinal settings</h1>
<p>MTPs for cross-sectional, or point-treatment, studies have actually been <strong>generalized to exposures and covariates measured at multiple time points</strong>, i.e.&nbsp;longitudinal studies. We will refer to this generalization as <strong>Longitudinal Modified Treatment Policies (LMTPs)</strong>, for which there is a corresponding <code>R</code> package called <code>lmtp</code>.</p>
<section id="longitudinal-data-analysis-complexities" class="level2">
<h2 class="anchored" data-anchor-id="longitudinal-data-analysis-complexities">Longitudinal data analysis complexities</h2>
<p>Longitudinal studies pose certain crucial and often-overlooked issues, most notably time-dependent confounders. <strong>Time-dependent confounders are variables which change over time, affect the likelihood of both future exposure and the outcome, and are affected by previous exposure.</strong></p>
<p>A key time-dependent confounder for the relationship between pollution and asthma attacks could be weather. Hot, humid air causes air quality to decrease, and it also aggravates pulmonary conditions like asthma. I will explain time-dependent confounders more in later posts of this series, but for now, note that <strong>LMTP</strong> (the method and <code>R</code> package) <strong>properly accommodates time-dependent confounders.</strong></p>
</section>
<section id="lmtp-methodology-and-software-capabilities" class="level2">
<h2 class="anchored" data-anchor-id="lmtp-methodology-and-software-capabilities">LMTP methodology and software capabilities</h2>
<p><strong>This LMTP methodology and <code>lmtp</code> software allows the user to handle:</strong></p>




<a href="https://github.com/nt-williams/lmtp"> <img src="lmtp_sticker.png" alt="LMTP sticker" style="float:right; padding-left:20px;" width="40%&quot;"> </a>


<ul>
<li>
Cross-sectional or longitudinal exposures
</li>
<li>
Binary, categorical, or continuous exposures
</li>
<li>
Exposures that are dependent on time, i.e.&nbsp;delaying the occurrence of the exposure as an intervention
</li>
<li>
Multiple exposures
</li>
<li>
Binary, continuous, or time-to-event outcomes
</li>
<li>
Informative loss to follow-up/censoring
</li>
<li>
Competing risks
</li>
<li>
Survey weights
</li>
</ul>
<p><strong>This could translate to longitudinal research questions such as:</strong></p>
<ul>
<li>
<em>How would asthma rates change if we reduced two pollutants (fine particulate matter and ozone) by 10% every day for a year?</em>
</li>
<li>
<em>How would drug overdose numbers change if Naloxone access laws were implemented one year later?</em>
</li>
<li>
<em>How would length of intubation for intubated COVID-19 patients change if patients who never received steroids were given a standard dose of steroids upon intubation? (Death of other causes is a competing risk and discharge is an informative loss to follow up.)</em> <!-- - *How would your maximum climbing grade have changed by the end of the year if you had gone to the climbing gym one hour more every week?* -->
</li>
</ul>
<!-- <p align="center"><iframe src="https://giphy.com/embed/SIJiRqIcb6CJVLs9CX" width="480" height="270" frameBorder="0" allowFullScreen></iframe><p></p> -->
<hr>
</section>
</section>
<section id="resources-to-learn-more" class="level1">
<h1>Resources to learn more</h1>
<p>Future posts will walk through examples of applications like these using the <code>R</code> package <code>lmtp</code>. In the meantime, a recent summary of the literature is described in <a href="https://www.tandfonline.com/doi/full/10.1080/01621459.2021.1955691"><em>Nonparametric Causal Effects Based on Longitudinal Modified Treatment Policies</em></a> by Díaz et al.&nbsp;Although the Díaz paper and accompanying <code>R</code> package are new, LMTP is an extension of causal inference concepts, methodology, and software that are well-established and steadily becoming more widely used.</p>
<p><strong>Here are several other resources I found useful in writing this post:</strong></p>
<ul>
<li>Nick Williams’ (author of the <code>lmtp</code> package) <a href="https://towardsdatascience.com/an-introduction-to-estimating-the-causal-effects-of-feasible-interventions-e07ed45136ff">blog post</a> introducing MTPs and using <code>lmtp</code> for an example with LSAT scores and law school admission rates.</li>
<li><a href="https://cdn1.sph.harvard.edu/wp-content/uploads/sites/1268/2021/03/ciwhatif_hernanrobins_30mar21.pdf"><em>What If</em></a> by Miguel Hernán and James Robins, a freely available book, has an entire section on longitudinal data and time-dependent confounding (see Part III, Chapters 19-21).</li>
<li><em>Effects of multiple interventions.</em> is a section in the book <em>Comparative quantification of health risks: global and regional burden of disease attributable to selected major risk factors</em> by Robins et al.&nbsp;which brings up many of the issues which are later solved by MTPs.</li>
<li><a href="https://pubmed.ncbi.nlm.nih.gov/23913589/"><em>Estimation of the effect of interventions that modify the received treatment</em></a> by Haneuse and Rotnitzky and <a href="https://pubmed.ncbi.nlm.nih.gov/21977966/"><em>Population intervention causal effects based on stochastic interventions</em></a> by Diaz and van der Laan both describe the problem well, contain helpful examples, and make advances in the methodology for MTPs.</li>
<li><a href="https://www.degruyter.com/document/doi/10.1515/em-2012-0001/html?lang=en"><em>Identification, Estimation and Approximation of Risk under Interventions that Depend on the Natural Value of Treatment Using Observational Data</em></a> by Young et. al (2014) is a publicly available paper that also provides a good summary of the literature and fundamental progress to the methods of MTPs (in this paper they are “interventions which depend on the natural value of treatment”).</li>
</ul>
<p>As with all my posts, I welcome feedback from my intended audience and/or experts of causal inference. I am also open to suggestions of other resources to include in the reference section. Check back later for posts walking through specific examples and <code>R</code> code!</p>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp(/www\.khstats\.com/);
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb1" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "An Illustrated Guide to Modified Treatment Policies, Part 1: Introduction and Motivation"</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Katherine Hoffman"</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="an">image:</span><span class="co"> lmtp/mtp_summary.jpg</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> 2022-04-07</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="an">categories:</span><span class="co"> ["statistics"]</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="an">tags:</span><span class="co"> ["causal inference", "time-dependent confounding", "biostatistics", "modified treatment policy", "dynamic treatment policy", "causal intervention"]</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="an">description:</span><span class="co"> " "</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="an">output:</span><span class="co"> </span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co">  html_document:</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co">    toc_float: true</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co">    smart: false</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co">    print_df: paged</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;html&gt;</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;head&gt;</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/head&gt;</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;body&gt;</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">"https://github.com/kathoffman/causal-inference-visual-guides/blob/master/visual-guides/Types_of_Interventions.jpg"</span><span class="kw">&gt;</span> <span class="kw">&lt;img</span> <span class="er">src</span><span class="ot">=</span><span class="st">"lmtp/mtp_summary.jpg"</span> <span class="er">style</span><span class="ot">=</span><span class="st">"border:1px solid black;"</span> <span class="er">width</span><span class="ot">=</span><span class="st">"100%</span><span class="dv">&amp;quot;</span><span class="st">"</span><span class="kw">/&gt;</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/a&gt;</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/body&gt;</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/html&gt;</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="fu"># Table of contents</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span><span class="co">[</span><span class="ot">An Overview of Existing Methodology</span><span class="co">](#an-overview-of-existing-methodology)</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span><span class="co">[</span><span class="ot">Explanation and examples of Modified Treatment Policies</span><span class="co">](#modified-treatment-policies-mtps)</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span><span class="co">[</span><span class="ot">Capabilities of the Longitudinal Modified Treatment Policy (LMTP) framework</span><span class="co">](#a-general-and-unifying-framework-extending-to-longitudinal-settings)</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a><span class="fu"># TLDR</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Modified Treatment Policies are a collection of methods for **defining** and **operationalizing** interesting **causal inference questions**.</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>The unifying theme in this collection of methods is that they allow us to study hypothetical interventions, or treatment policies, that are **extremely flexible**.</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>This flexibility enables us to **answer more realistic scientific questions** in both **cross-sectional and longitudinal settings**, with **multivariate, categorical, or continuous exposures**.</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>------------------------------------------------------------------------</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- Lastly, before I begin, please note a few sets of words I’ll use interchangeably: --&gt;</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- - Exposure and treatment --&gt;</span></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- - Treatment policy and intervention --&gt;</span></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a><span class="fu"># An Overview of Existing Methodology {#an-overview-of-existing-methodology}</span></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a><span class="fu">## Let's review causal inference at a high level.</span></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;html&gt;</span></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;head&gt;</span></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;title&gt;</span>HTML Image as link<span class="kw">&lt;/title&gt;</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/head&gt;</span></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;body&gt;&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">"https://github.com/kathoffman/causal-inference-visual-guides/blob/master/comics/universe_comic.jpeg"</span><span class="kw">&gt;</span> <span class="kw">&lt;img</span> <span class="er">src</span><span class="ot">=</span><span class="st">"universe_comic.jpeg"</span> <span class="er">style</span><span class="ot">=</span><span class="st">"float:right; padding-left:10px;"</span> <span class="er">width</span><span class="ot">=</span><span class="st">"60%</span><span class="dv">&amp;quot;</span><span class="st">"</span><span class="kw">/&gt;</span> <span class="kw">&lt;/a&gt;&lt;/body&gt;</span></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/html&gt;</span></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a>Most modern causal inference methods utilize the **potential outcomes framework**, which asks questions of **what would happen** in a **hypothetical world** in which we could **manipulate exposures** and then **compare outcomes for the same observations under different exposures**.</span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a>Questions with binary exposures typically take the form, "**what would happen if everyone had received the exposure compared to if no one had received the exposure**?" Similarly, questions with multi-level or continuous exposures often take the form "what would happen if everyone had received *this much* of the exposure, versus if everyone had received *that much* of the exposure?" Study designs like this which compare all observations under two (or more) specific levels of exposure are called **static interventions**.</span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a><span class="fu">## Static interventions are a common approach in causal inference, but a few problems frequently arise.</span></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;h3</span> <span class="er">style</span><span class="ot">=</span><span class="st">"color: #C41E3A;"</span><span class="kw">&gt;</span></span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a>Problem #1: Positivity Violations</span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/h3&gt;</span></span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a>A key requirement for causal inference is the **positivity assumption**. This means if you are comparing two exposures (say, treatments A vs. B), **for every covariate combination** in your dataset, there must be **individuals who sometimes get treatment A and sometimes get treatment B**. Intuitively, this ensures there is enough "experimentation" in the dataset that effects can be estimated.</span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;html&gt;</span></span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;head&gt;</span></span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/head&gt;</span></span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;body&gt;&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">"https://github.com/kathoffman/causal-inference-visual-guides/blob/master/comics/positivity_comic.jpeg"</span><span class="kw">&gt;</span> <span class="kw">&lt;img</span> <span class="er">src</span><span class="ot">=</span><span class="st">"positivity_comic.jpeg"</span> <span class="er">style</span><span class="ot">=</span><span class="st">"float:right; padding-left:20px;"</span> <span class="er">width</span><span class="ot">=</span><span class="st">"55%</span><span class="dv">&amp;quot;</span><span class="st">"</span><span class="kw">/&gt;</span> <span class="kw">&lt;/a&gt;&lt;/body&gt;</span></span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/html&gt;</span></span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a>As you can imagine, this often does not hold true. Sometimes there are **theoretical positivity violations**: for example, if we are studying the effects of a drug for heart disease, cardiologists might say this drug is never given to people who also have chronic kidney disease because the drug damages the kidneys. The probability of a patient receiving the drug conditional on having kidney disease will be zero in all datasets.</span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a>Other times we see **practical positivity violations**, meaning that due to small sample size and/or random chance, there are certain covariate combinations in which few observations receive the treatment of interest in our dataset. Perhaps in a dataset to study the previous example's heart disease drug, due to random chance, there are no women aged 40-60 years who received the drug in the data. It is not a theoretical positivity violation (i.e. doctors would give the drug to women in this age group), but it is a practical violation nonetheless as it yields small or zero treatment probabilities.</span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true" tabindex="-1"></a>Positivity issues must be addressed, preferably in the planning stage of a study.</span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;h3</span> <span class="er">style</span><span class="ot">=</span><span class="st">"color: #C41E3A;"</span><span class="kw">&gt;</span></span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-101"><a href="#cb1-101" aria-hidden="true" tabindex="-1"></a>Problem #2: Unrealistic Interventions</span>
<span id="cb1-102"><a href="#cb1-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-103"><a href="#cb1-103" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/h3&gt;</span></span>
<span id="cb1-104"><a href="#cb1-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-105"><a href="#cb1-105" aria-hidden="true" tabindex="-1"></a>A second problem arises with static interventions: there are many situations in which it is **not realistic to set everyone's hypothetical exposure to the same value**. Let's take an example where we are studying the effect of physical activity. A static intervention approach might ask, "*what would happen if everyone exercised 30 minutes a week?*" Yet there is no actual intervention we could translate to the real world to make everyone exercise 30 minutes a week, i.e. there is no policy a decision-maker could enact to make this happen, even approximately. We could estimate an outcome under this policy, but this unrealistic intervention will likely have a meaningless result.</span>
<span id="cb1-106"><a href="#cb1-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-107"><a href="#cb1-107" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; Notably, you can have an unrealistic intervention without having a positivity violation. For example, we may have access to a large data set with people of all possible covariate combinations who exercise 30 minutes a week; however, it is still scientifically not meaningful or realistic to evaluate a world in which everyone exercises the exact same amount of time.</span></span>
<span id="cb1-108"><a href="#cb1-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-109"><a href="#cb1-109" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;html&gt;</span></span>
<span id="cb1-110"><a href="#cb1-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-111"><a href="#cb1-111" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;head&gt;</span></span>
<span id="cb1-112"><a href="#cb1-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-113"><a href="#cb1-113" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/head&gt;</span></span>
<span id="cb1-114"><a href="#cb1-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-115"><a href="#cb1-115" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;body&gt;</span></span>
<span id="cb1-116"><a href="#cb1-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-117"><a href="#cb1-117" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">"https://github.com/kathoffman/causal-inference-visual-guides/blob/master/visual-guides/Types_of_Interventions.jpg"</span><span class="kw">&gt;</span> <span class="kw">&lt;img</span> <span class="er">src</span><span class="ot">=</span><span class="st">"lmtp/static_graph.jpg"</span> <span class="er">width</span><span class="ot">=</span><span class="st">"100%</span><span class="dv">&amp;quot;</span><span class="st">"</span><span class="kw">/&gt;</span> <span class="kw">&lt;/a&gt;</span></span>
<span id="cb1-118"><a href="#cb1-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-119"><a href="#cb1-119" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;figcaption&gt;&lt;small&gt;</span>A graphical example of a static intervention on the pollution measurement of Air Quality Index (AQI). On the left we see the naturally observed exposure values for one day in the US, and on the right we see what the hypothetical exposure values would look like under a static intervention in which all study subjects had an AQI exposure of 20.<span class="kw">&lt;/small&gt;&lt;/figcaption&gt;</span></span>
<span id="cb1-120"><a href="#cb1-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-121"><a href="#cb1-121" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/body&gt;</span></span>
<span id="cb1-122"><a href="#cb1-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-123"><a href="#cb1-123" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/html&gt;</span></span>
<span id="cb1-124"><a href="#cb1-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-125"><a href="#cb1-125" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb1-126"><a href="#cb1-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-127"><a href="#cb1-127" aria-hidden="true" tabindex="-1"></a><span class="fu">## One possible solution to the problems posed by Static Interventions is Dynamic Interventions.</span></span>
<span id="cb1-128"><a href="#cb1-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-129"><a href="#cb1-129" aria-hidden="true" tabindex="-1"></a>**Dynamic treatment policies** or interventions ask what would have happened in a hypothetical world where **exposure is assigned based on each observation's covariate history**.</span>
<span id="cb1-130"><a href="#cb1-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-131"><a href="#cb1-131" aria-hidden="true" tabindex="-1"></a>For example, let's say we want to study the effect of pollution on asthma attacks in the United States. A simple study design could be to find a representative sample of individuals living with asthma, measure their pollution exposure via the <span class="co">[</span><span class="ot">Air Quality Index (AQI)</span><span class="co">](https://www.airnow.gov/aqi/aqi-basics/)</span> on one calendar day (along with other confounders), and record whether an asthma attack occurs within a specified time frame.</span>
<span id="cb1-132"><a href="#cb1-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-133"><a href="#cb1-133" aria-hidden="true" tabindex="-1"></a>Although I don't study pollution, I know it is **scientifically impossible** for everyone in the US to receive the same air quality exposure, even in a world with countless environmental regulations. Natural and geographical forces such as wind, wildfires, elevation, proximity to the ocean, etc. make it **unrealistic to study a single air quality exposure value for everyone**.</span>
<span id="cb1-134"><a href="#cb1-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-135"><a href="#cb1-135" aria-hidden="true" tabindex="-1"></a>We can try getting around these issues by evaluating a dynamic intervention that depends on baseline characteristics of the person or environment. For example, "*if a person lives in an urban area, make their AQI exposure 40, and if a person lives in a residential area, make their AQI exposure 20.*"</span>
<span id="cb1-136"><a href="#cb1-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-137"><a href="#cb1-137" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;html&gt;</span></span>
<span id="cb1-138"><a href="#cb1-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-139"><a href="#cb1-139" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;head&gt;</span></span>
<span id="cb1-140"><a href="#cb1-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-141"><a href="#cb1-141" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/head&gt;</span></span>
<span id="cb1-142"><a href="#cb1-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-143"><a href="#cb1-143" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;body&gt;</span></span>
<span id="cb1-144"><a href="#cb1-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-145"><a href="#cb1-145" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">"https://github.com/kathoffman/causal-inference-visual-guides/blob/master/visual-guides/Types_of_Interventions.jpg"</span><span class="kw">&gt;</span> <span class="kw">&lt;img</span> <span class="er">src</span><span class="ot">=</span><span class="st">"lmtp/dynamic_graph.jpg"</span> <span class="er">width</span><span class="ot">=</span><span class="st">"100%</span><span class="dv">&amp;quot;</span><span class="st">"</span><span class="kw">/&gt;</span> <span class="kw">&lt;/a&gt;</span></span>
<span id="cb1-146"><a href="#cb1-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-147"><a href="#cb1-147" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;figcaption&gt;&lt;small&gt;</span>An example of a naturally observed exposure of AQI in the US (left) and what it would look like under a hypothetical dynamic intervention in which all urban counties have an AQI of 40 and rural counties have an AQI of 20 (right).<span class="kw">&lt;/small&gt;&lt;/figcaption&gt;</span></span>
<span id="cb1-148"><a href="#cb1-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-149"><a href="#cb1-149" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/body&gt;</span></span>
<span id="cb1-150"><a href="#cb1-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-151"><a href="#cb1-151" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/html&gt;</span></span>
<span id="cb1-152"><a href="#cb1-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-153"><a href="#cb1-153" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span> This intervention may **reduce positivity violations** and **lead to a more realistic study**, yet there are **many other interesting questions** about air pollution **we still cannot answer** with dynamic treatment policies.</span>
<span id="cb1-154"><a href="#cb1-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-155"><a href="#cb1-155" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;h3</span> <span class="er">style</span><span class="ot">=</span><span class="st">"color: #C41E3A;"</span><span class="kw">&gt;</span></span>
<span id="cb1-156"><a href="#cb1-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-157"><a href="#cb1-157" aria-hidden="true" tabindex="-1"></a>Problem #3: Static and dynamic interventions cannot depend on the observed exposure</span>
<span id="cb1-158"><a href="#cb1-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-159"><a href="#cb1-159" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/h3&gt;</span></span>
<span id="cb1-160"><a href="#cb1-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-161"><a href="#cb1-161" aria-hidden="true" tabindex="-1"></a>Another **key limitation** with both static and dynamic interventions is that the **hypothetical exposure value is completely determined by each observation's baseline characteristics** rather than the observed exposure. However, there are many **interesting scientific questions** about interventions that **depend on the actual exposure received**. For example, a more relevant question for our pollution example could be, "*what would have happened in a hypothetical world where everyone's AQI exposure was 10% lower than what we observed?*" Or, "*what if the reduction had been 20 units for individuals living in an area with a daily AQI \&gt; 100?*"</span>
<span id="cb1-162"><a href="#cb1-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-163"><a href="#cb1-163" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; What questions, or hypothetical interventions, would we propose if we did not feel limited by statistical methodology?</span></span>
<span id="cb1-164"><a href="#cb1-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-165"><a href="#cb1-165" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- &lt;center&gt; ✨✨✨&lt;/center&gt; --&gt;</span></span>
<span id="cb1-166"><a href="#cb1-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-167"><a href="#cb1-167" aria-hidden="true" tabindex="-1"></a><span class="fu"># Modified Treatment Policies (MTPs) {#modified-treatment-policies-mtps}</span></span>
<span id="cb1-168"><a href="#cb1-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-169"><a href="#cb1-169" aria-hidden="true" tabindex="-1"></a>We can solve all three problems mentioned above with **Modified Treatment Policies (MTPs)**. MTPs describe **hypothetical interventions which depend on the observed value of treatment**, possibly in addition to baseline characteristics. We already mentioned two potential MTPs for our pollution example: "*what if we reduced everyone's AQI exposure by 20%?*" and "*what if we reduced individuals living in an area with a daily AQI \&gt; 100 by 20 units?*"</span>
<span id="cb1-170"><a href="#cb1-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-171"><a href="#cb1-171" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;html&gt;</span></span>
<span id="cb1-172"><a href="#cb1-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-173"><a href="#cb1-173" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;head&gt;</span></span>
<span id="cb1-174"><a href="#cb1-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-175"><a href="#cb1-175" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/head&gt;</span></span>
<span id="cb1-176"><a href="#cb1-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-177"><a href="#cb1-177" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;body&gt;</span></span>
<span id="cb1-178"><a href="#cb1-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-179"><a href="#cb1-179" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">"https://github.com/kathoffman/causal-inference-visual-guides/blob/master/visual-guides/Types_of_Interventions.jpg"</span><span class="kw">&gt;</span> <span class="kw">&lt;img</span> <span class="er">src</span><span class="ot">=</span><span class="st">"lmtp/modified_graph.jpg"</span> <span class="er">width</span><span class="ot">=</span><span class="st">"100%</span><span class="dv">&amp;quot;</span><span class="st">"</span><span class="kw">/&gt;</span> <span class="kw">&lt;/a&gt;</span></span>
<span id="cb1-180"><a href="#cb1-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-181"><a href="#cb1-181" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;figcaption&gt;&lt;small&gt;</span>An example of a naturally observed exposure of AQI in the US (left) and what it would look like under a hypothetical modified treatment policy in which all observations have an AQI exposure 20% less than what was actually observed (right).<span class="kw">&lt;/small&gt;&lt;/figcaption&gt;</span></span>
<span id="cb1-182"><a href="#cb1-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-183"><a href="#cb1-183" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/body&gt;</span></span>
<span id="cb1-184"><a href="#cb1-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-185"><a href="#cb1-185" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/html&gt;</span></span>
<span id="cb1-186"><a href="#cb1-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-187"><a href="#cb1-187" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span> Other interesting MTPs unrelated to pollution might be questions along the lines of:</span>
<span id="cb1-188"><a href="#cb1-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-189"><a href="#cb1-189" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;html&gt;</span></span>
<span id="cb1-190"><a href="#cb1-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-191"><a href="#cb1-191" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;head&gt;</span></span>
<span id="cb1-192"><a href="#cb1-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-193"><a href="#cb1-193" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/head&gt;</span></span>
<span id="cb1-194"><a href="#cb1-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-195"><a href="#cb1-195" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;body&gt;&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">"https://github.com/kathoffman/causal-inference-visual-guides/blob/master/comics/climbing_comic.jpg"</span><span class="kw">&gt;</span> <span class="kw">&lt;img</span> <span class="er">src</span><span class="ot">=</span><span class="st">"climbing_comic.JPG"</span> <span class="er">style</span><span class="ot">=</span><span class="st">"float:right"</span> <span class="er">width</span><span class="ot">=</span><span class="st">"40%</span><span class="dv">&amp;quot;</span><span class="st">"</span><span class="kw">/&gt;</span> <span class="kw">&lt;/a&gt;&lt;/body&gt;</span></span>
<span id="cb1-196"><a href="#cb1-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-197"><a href="#cb1-197" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/html&gt;</span></span>
<span id="cb1-198"><a href="#cb1-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-199"><a href="#cb1-199" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;ul&gt;</span></span>
<span id="cb1-200"><a href="#cb1-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-201"><a href="#cb1-201" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;li&gt;&lt;em&gt;</span>How would recovery rates change if we decreased surgery times for surgeries lasting longer than four hours?<span class="kw">&lt;/em&gt;&lt;/li&gt;</span></span>
<span id="cb1-202"><a href="#cb1-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-203"><a href="#cb1-203" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;li&gt;&lt;em&gt;</span>How would diabetes incidence rates change if everyone with a Body Mass Index (BMI) <span class="sc">\&gt;</span>30 lowered their BMI by 2 units?<span class="kw">&lt;/em&gt;&lt;/li&gt;</span></span>
<span id="cb1-204"><a href="#cb1-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-205"><a href="#cb1-205" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;li&gt;&lt;em&gt;</span>How would medical school admission rates change if all students with MCAT scores less than 500 increased their score by 5 points?<span class="kw">&lt;/em&gt;&lt;/li&gt;</span></span>
<span id="cb1-206"><a href="#cb1-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-207"><a href="#cb1-207" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/ul&gt;</span></span>
<span id="cb1-208"><a href="#cb1-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-209"><a href="#cb1-209" aria-hidden="true" tabindex="-1"></a>**MTPs are an excellent solution** for getting around positivity issues to analyze **more feasible and realistic interventions**. Hopefully this list inspires you to think of MTPs relevant to your own field of study!</span>
<span id="cb1-210"><a href="#cb1-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-211"><a href="#cb1-211" aria-hidden="true" tabindex="-1"></a><span class="fu"># A general and unifying framework extending to longitudinal settings {#a-general-and-unifying-framework-extending-to-longitudinal-settings}</span></span>
<span id="cb1-212"><a href="#cb1-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-213"><a href="#cb1-213" aria-hidden="true" tabindex="-1"></a>MTPs for cross-sectional, or point-treatment, studies have actually been **generalized to exposures and covariates measured at multiple time points**, i.e. longitudinal studies. We will refer to this generalization as **Longitudinal Modified Treatment Policies (LMTPs)**, for which there is a corresponding <span class="in">`R`</span> package called <span class="in">`lmtp`</span>.</span>
<span id="cb1-214"><a href="#cb1-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-215"><a href="#cb1-215" aria-hidden="true" tabindex="-1"></a><span class="fu">## Longitudinal data analysis complexities</span></span>
<span id="cb1-216"><a href="#cb1-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-217"><a href="#cb1-217" aria-hidden="true" tabindex="-1"></a>Longitudinal studies pose certain crucial and often-overlooked issues, most notably time-dependent confounders. **Time-dependent confounders are variables which change over time, affect the likelihood of both future exposure and the outcome, and are affected by previous exposure.**</span>
<span id="cb1-218"><a href="#cb1-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-219"><a href="#cb1-219" aria-hidden="true" tabindex="-1"></a>A key time-dependent confounder for the relationship between pollution and asthma attacks could be weather. Hot, humid air causes air quality to decrease, and it also aggravates pulmonary conditions like asthma. I will explain time-dependent confounders more in later posts of this series, but for now, note that **LMTP** (the method and `R` package) **properly accommodates time-dependent confounders.**</span>
<span id="cb1-220"><a href="#cb1-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-221"><a href="#cb1-221" aria-hidden="true" tabindex="-1"></a><span class="fu">## LMTP methodology and software capabilities</span></span>
<span id="cb1-222"><a href="#cb1-222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-223"><a href="#cb1-223" aria-hidden="true" tabindex="-1"></a>**This LMTP methodology and `lmtp` software allows the user to handle:**</span>
<span id="cb1-224"><a href="#cb1-224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-225"><a href="#cb1-225" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;html&gt;</span></span>
<span id="cb1-226"><a href="#cb1-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-227"><a href="#cb1-227" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;head&gt;</span></span>
<span id="cb1-228"><a href="#cb1-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-229"><a href="#cb1-229" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/head&gt;</span></span>
<span id="cb1-230"><a href="#cb1-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-231"><a href="#cb1-231" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;body&gt;&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">"https://github.com/nt-williams/lmtp"</span><span class="kw">&gt;</span> <span class="kw">&lt;img</span> <span class="er">src</span><span class="ot">=</span><span class="st">"lmtp_sticker.png"</span> <span class="er">alt</span><span class="ot">=</span><span class="st">"LMTP sticker"</span> <span class="er">style</span><span class="ot">=</span><span class="st">"float:right; padding-left:20px;"</span> <span class="er">width</span><span class="ot">=</span><span class="st">"40%</span><span class="dv">&amp;quot;</span><span class="st">"</span><span class="kw">/&gt;</span> <span class="kw">&lt;/a&gt;&lt;/body&gt;</span></span>
<span id="cb1-232"><a href="#cb1-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-233"><a href="#cb1-233" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/html&gt;</span></span>
<span id="cb1-234"><a href="#cb1-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-235"><a href="#cb1-235" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;ul&gt;</span></span>
<span id="cb1-236"><a href="#cb1-236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-237"><a href="#cb1-237" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;li&gt;</span>Cross-sectional or longitudinal exposures<span class="kw">&lt;/li&gt;</span></span>
<span id="cb1-238"><a href="#cb1-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-239"><a href="#cb1-239" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;li&gt;</span>Binary, categorical, or continuous exposures<span class="kw">&lt;/li&gt;</span></span>
<span id="cb1-240"><a href="#cb1-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-241"><a href="#cb1-241" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;li&gt;</span>Exposures that are dependent on time, i.e. delaying the occurrence of the exposure as an intervention<span class="kw">&lt;/li&gt;</span></span>
<span id="cb1-242"><a href="#cb1-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-243"><a href="#cb1-243" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;li&gt;</span>Multiple exposures<span class="kw">&lt;/li&gt;</span></span>
<span id="cb1-244"><a href="#cb1-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-245"><a href="#cb1-245" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;li&gt;</span>Binary, continuous, or time-to-event outcomes<span class="kw">&lt;/li&gt;</span></span>
<span id="cb1-246"><a href="#cb1-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-247"><a href="#cb1-247" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;li&gt;</span>Informative loss to follow-up/censoring<span class="kw">&lt;/li&gt;</span></span>
<span id="cb1-248"><a href="#cb1-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-249"><a href="#cb1-249" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;li&gt;</span>Competing risks<span class="kw">&lt;/li&gt;</span></span>
<span id="cb1-250"><a href="#cb1-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-251"><a href="#cb1-251" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;li&gt;</span>Survey weights<span class="kw">&lt;/li&gt;</span></span>
<span id="cb1-252"><a href="#cb1-252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-253"><a href="#cb1-253" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/ul&gt;</span></span>
<span id="cb1-254"><a href="#cb1-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-255"><a href="#cb1-255" aria-hidden="true" tabindex="-1"></a>**This could translate to longitudinal research questions such as:**</span>
<span id="cb1-256"><a href="#cb1-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-257"><a href="#cb1-257" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;ul&gt;</span></span>
<span id="cb1-258"><a href="#cb1-258" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-259"><a href="#cb1-259" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;li&gt;&lt;em&gt;</span>How would asthma rates change if we reduced two pollutants (fine particulate matter and ozone) by 10% every day for a year?<span class="kw">&lt;/em&gt;&lt;/li&gt;</span></span>
<span id="cb1-260"><a href="#cb1-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-261"><a href="#cb1-261" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;li&gt;&lt;em&gt;</span>How would drug overdose numbers change if Naloxone access laws were implemented one year later?<span class="kw">&lt;/em&gt;&lt;/li&gt;</span></span>
<span id="cb1-262"><a href="#cb1-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-263"><a href="#cb1-263" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;li&gt;&lt;em&gt;</span>How would length of intubation for intubated COVID-19 patients change if patients who never received steroids were given a standard dose of steroids upon intubation? (Death of other causes is a competing risk and discharge is an informative loss to follow up.)<span class="kw">&lt;/em&gt;</span> <span class="co">&lt;!-- - *How would your maximum climbing grade have changed by the end of the year if you had gone to the climbing gym one hour more every week?* --&gt;</span><span class="kw">&lt;/li&gt;</span></span>
<span id="cb1-264"><a href="#cb1-264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-265"><a href="#cb1-265" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/ul&gt;</span></span>
<span id="cb1-266"><a href="#cb1-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-267"><a href="#cb1-267" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- &lt;p align="center"&gt;&lt;iframe src="https://giphy.com/embed/SIJiRqIcb6CJVLs9CX" width="480" height="270" frameBorder="0" allowFullScreen&gt;&lt;/iframe&gt;&lt;p&gt;&lt;/p&gt; --&gt;</span></span>
<span id="cb1-268"><a href="#cb1-268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-269"><a href="#cb1-269" aria-hidden="true" tabindex="-1"></a>------------------------------------------------------------------------</span>
<span id="cb1-270"><a href="#cb1-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-271"><a href="#cb1-271" aria-hidden="true" tabindex="-1"></a><span class="fu"># Resources to learn more</span></span>
<span id="cb1-272"><a href="#cb1-272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-273"><a href="#cb1-273" aria-hidden="true" tabindex="-1"></a>Future posts will walk through examples of applications like these using the <span class="in">`R`</span> package <span class="in">`lmtp`</span>. In the meantime, a recent summary of the literature is described in <span class="co">[</span><span class="ot">*Nonparametric Causal Effects Based on Longitudinal Modified Treatment Policies*</span><span class="co">](https://www.tandfonline.com/doi/full/10.1080/01621459.2021.1955691)</span> by Díaz et al. Although the Díaz paper and accompanying <span class="in">`R`</span> package are new, LMTP is an extension of causal inference concepts, methodology, and software that are well-established and steadily becoming more widely used.</span>
<span id="cb1-274"><a href="#cb1-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-275"><a href="#cb1-275" aria-hidden="true" tabindex="-1"></a>**Here are several other resources I found useful in writing this post:**</span>
<span id="cb1-276"><a href="#cb1-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-277"><a href="#cb1-277" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Nick Williams' (author of the <span class="in">`lmtp`</span> package) <span class="co">[</span><span class="ot">blog post</span><span class="co">](https://towardsdatascience.com/an-introduction-to-estimating-the-causal-effects-of-feasible-interventions-e07ed45136ff)</span> introducing MTPs and using <span class="in">`lmtp`</span> for an example with LSAT scores and law school admission rates.</span>
<span id="cb1-278"><a href="#cb1-278" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">*What If*</span><span class="co">](https://cdn1.sph.harvard.edu/wp-content/uploads/sites/1268/2021/03/ciwhatif_hernanrobins_30mar21.pdf)</span> by Miguel Hernán and James Robins, a freely available book, has an entire section on longitudinal data and time-dependent confounding (see Part III, Chapters 19-21).</span>
<span id="cb1-279"><a href="#cb1-279" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>*Effects of multiple interventions.* is a section in the book *Comparative quantification of health risks: global and regional burden of disease attributable to selected major risk factors* by Robins et al. which brings up many of the issues which are later solved by MTPs.</span>
<span id="cb1-280"><a href="#cb1-280" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">*Estimation of the effect of interventions that modify the received treatment*</span><span class="co">](https://pubmed.ncbi.nlm.nih.gov/23913589/)</span> by Haneuse and Rotnitzky and <span class="co">[</span><span class="ot">*Population intervention causal effects based on stochastic interventions*</span><span class="co">](https://pubmed.ncbi.nlm.nih.gov/21977966/)</span> by Diaz and van der Laan both describe the problem well, contain helpful examples, and make advances in the methodology for MTPs.</span>
<span id="cb1-281"><a href="#cb1-281" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">*Identification, Estimation and Approximation of Risk under Interventions that Depend on the Natural Value of Treatment Using Observational Data*</span><span class="co">](https://www.degruyter.com/document/doi/10.1515/em-2012-0001/html?lang=en)</span> by Young et. al (2014) is a publicly available paper that also provides a good summary of the literature and fundamental progress to the methods of MTPs (in this paper they are "interventions which depend on the natural value of treatment").</span>
<span id="cb1-282"><a href="#cb1-282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-283"><a href="#cb1-283" aria-hidden="true" tabindex="-1"></a>As with all my posts, I welcome feedback from my intended audience and/or experts of causal inference. I am also open to suggestions of other resources to include in the reference section. Check back later for posts walking through specific examples and <span class="in">`R`</span> code!</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>